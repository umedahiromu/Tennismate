<% visitor = notification.visitor %>
<% visited = notification.visited %>

<div class="notification">
  <% case notification.action %>
  <% when "follow" then %>
    <p>
      <%= link_to "#{visitor.nickname}", user_path(visitor) %>さんが<%= visited.nickname %>さんをフォローしました。
    </p>
  <% when "like" then %>
    <p>
      <%= link_to "#{visitor.nickname}", user_path(visitor) %>さんが
      <%= link_to "#{visited.nickname}さんの投稿", "/recruit_players/#{notification.recruit_player_id}/players_comments/new" %>に
      いいねしました。
    </p>
  <% when "comment" then %>
    <p>
      <%= link_to "#{visitor.nickname}", user_path(visitor) %>さんが
      <%= link_to "#{notification.recruit_player.user.nickname}さんの投稿", "/recruit_players/#{notification.recruit_player_id}/players_comments/new" %>に
      コメントしました。
    </p>
    <p>
      「<%= notification.players_comment.text %>」
    </p>
  <% end %>
</div>